{"version":3,"sources":["log.js"],"names":["_bundleProgressBar","respectProgressBars","commitLogs","terminate","lastDraw","render","log","config","raw","prefix","gray","args","concat","Array","prototype","slice","call","arguments","setBundleProgressBar","bar","error","red","map","x","warn","yellow","crayon"],"mappings":"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","file":"../log.js","sourcesContent":["import crayon from '@ccheever/crayon';\n\nlet _bundleProgressBar;\n\nfunction respectProgressBars(commitLogs) {\n  if (_bundleProgressBar) {\n    _bundleProgressBar.terminate();\n    _bundleProgressBar.lastDraw = '';\n    commitLogs();\n    _bundleProgressBar.render();\n  } else {\n    commitLogs();\n  }\n}\n\nfunction log() {\n  if (log.config.raw) {\n    return;\n  }\n  var prefix = crayon.gray('[') + crayon.gray('exp') + crayon.gray(']');\n  var args = [prefix].concat(Array.prototype.slice.call(arguments, 0));\n\n  respectProgressBars(() => {\n    console.log(...args);\n  });\n}\n\nlog.setBundleProgressBar = function setBundleProgressBar(bar) {\n  _bundleProgressBar = bar;\n};\n\nlog.error = function error() {\n  if (log.config.raw) {\n    return;\n  }\n  var prefix = crayon.red('[') + crayon.gray('exp') + crayon.red(']');\n  var args = [prefix].concat(\n    Array.prototype.slice.call(arguments, 0).map(x => crayon.red(x))\n  );\n\n  respectProgressBars(() => {\n    console.error(...args);\n  });\n};\n\nlog.warn = function warn() {\n  if (log.config.raw) {\n    return;\n  }\n  var prefix = crayon.yellow('[') + crayon.gray('exp') + crayon.yellow(']');\n  var args = [prefix].concat(\n    Array.prototype.slice.call(arguments, 0).map(x => crayon.yellow(x))\n  );\n\n  respectProgressBars(() => {\n    console.warn(...args);\n  });\n};\n\nlog.gray = function() {\n  if (log.config.raw) {\n    return;\n  }\n  var prefix = '[exp]';\n  var args = [prefix].concat(Array.prototype.slice.call(arguments, 0));\n\n  respectProgressBars(() => {\n    crayon.gray.error(...args);\n  });\n};\n\nlog.raw = function(...args) {\n  if (!log.config.raw) {\n    return;\n  }\n\n  respectProgressBars(() => {\n    console.log(...args);\n  });\n};\n\nlog.crayon = crayon;\n\nlog.config = {\n  raw: false,\n};\n\nexport default log;\n"],"sourceRoot":"/Users/jesseruder/exponent/universe/dev/exp/src"}